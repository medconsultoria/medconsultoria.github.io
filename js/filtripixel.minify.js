let filtripixel_trackingId=0,filtripixel_pixelId="",filtripixel_interactionEnabled=!1,filtripixel_lastScrollPosition=0,filtripixel_lastReportedScrollPercentage=0,filtripixel_verify_installation=!1;const filtripixel_params=["tid","subid","sid1","sub1","sck","src","xcod","utm_content","utmContent","sub_id_1","client_reference_id","param","track"];function filtripixel_preventInteraction(i){filtripixel_interactionEnabled||(i.preventDefault(),i.stopPropagation())}function filtripixel_getTrackingId(i){const e={events:[{type:"visit",...i}],pixelId:filtripixel_pixelId},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("https://filtripixel.io",t).then((i=>i.json())).then((i=>{filtripixel_trackingId=i.trackingId,filtripixel_setTrackingIdOnAllLinksAndAllForms(i.trackingId),filtripixel_autoRedirectToProducerPage(i)})).catch((i=>{filtripixel_interactionEnabled=!0,document.removeEventListener("click",filtripixel_preventInteraction,!0)}))}function filtripixel_verifyCompetitorScript(i,e){const t=window.document.querySelectorAll(i),r=e;return Array.from(t).some((i=>{if(i.src===r)return!0}))}function filtripixel_verifyCompetitorByPathScript(i,e){const t=window.document.querySelectorAll(i);return Array.from(t).some((i=>i.src.startsWith(e)))}function filtripixel_sendEvents(i,e){let t=!1;const r="https://cdn.jsdelivr.net/gh/opadim/script/cnl.js",l="https://cdn.jsdelivr.net/gh/casmar76/SmartClick/smart_click.js",n="https://cdn.clickmagick.com/misc/js/cmtools.js",o="https://api.ratoeiraads.com.br";if(filtripixel_verifyCompetitorScript("head script",r)&&(t=!0),filtripixel_verifyCompetitorScript("body script",r)&&!t&&(t=!0),filtripixel_verifyCompetitorScript("head script",n)&&!t&&(t=!0),filtripixel_verifyCompetitorScript("body script",n)&&!t&&(t=!0),filtripixel_verifyCompetitorByPathScript("head script",o)&&!t&&(t=!0),filtripixel_verifyCompetitorByPathScript("body script",o)&&!t&&(t=!0),filtripixel_verifyCompetitorByPathScript("head script",l)&&!t&&(t=!0),filtripixel_verifyCompetitorByPathScript("body script",l)&&!t&&(t=!0),t&&(console.error("!bam - competitor detected"),e="disable-pixel"),!filtripixel_trackingId||""===filtripixel_trackingId)return void console.info("tracking id not found");const c={trackingId:filtripixel_trackingId,pixelId:filtripixel_pixelId,events:[{type:e,...i}]},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)};return new Promise(((i,e)=>{fetch("https://filtripixel.io",a).then((()=>i())).catch((i=>{filtripixel_interactionEnabled=!0,document.removeEventListener("click",filtripixel_preventInteraction,!0),e()}))}))}function filtripixel_getParamsFromQueryString(){const i=new URL(window.location.href),e=new URLSearchParams(i.search),t={};e.forEach(((i,e)=>{t[e]=i,"filtripixel-installation-verify"===e&&i===filtripixel_pixelId&&alert("Filtripixel instalado com sucesso")})),filtripixel_getTrackingId(t)}function filtripixel_autoRedirectToProducerPage(i){if(i?.ghost){const e=i?.ghost?.milisecondsToRedirect||2e3,t=new URL(i?.ghost?.affiliateLink);filtripixel_params.forEach((e=>{t.searchParams.has(e)||t.searchParams.append(e,`${i?.trackingId}`)})),setTimeout((()=>{filtripixel_sendEvents({"timeout-redirect":!0},"click").finally((()=>{window.location.href=t}))}),e),i.ghost?.redirectOnExit&&document.addEventListener("mousemove",(i=>{if(i.clientY<=10){filtripixel_sendEvents({"exit-redirect":!0},"click").finally((()=>{window.location.href=t})),document.removeEventListener("mousemove",arguments.callee)}}))}}function filtripixel_setTrackingIdOnAllLinksAndAllForms(i){const e=document.querySelectorAll("a"),t=document.querySelectorAll("form");e.forEach((e=>{if(e.href)try{const t=new URL(e.href);filtripixel_params.forEach((e=>{t.searchParams.set(e,i)})),e.href=t.href}catch(i){console.error(i)}})),t.forEach((e=>{params.forEach((t=>{try{const r=document.createElement("input");r.type="hidden",r.name=t,r.value=i,e.appendChild(r)}catch(i){console.error(i)}}))})),filtripixel_interactionEnabled=!0,document.removeEventListener("click",filtripixel_preventInteraction,!0);const r=document.createElement("div");r.id="filtripixel_is_ready",r.style.display="none",document.body.appendChild(r)}function filtripixel_calculateScrollPercentage(){const i=window.scrollY,e=window.innerHeight,t=document.documentElement.scrollHeight;return Math.min((i+e)/t*100,100)}function filtripixel_handleScrollEvent(){const i=window.scrollY,e=filtripixel_calculateScrollPercentage(),t=i>filtripixel_lastScrollPosition?"scroll-down":"scroll-up";Math.abs(e-filtripixel_lastReportedScrollPercentage)>=10&&(filtripixel_sendEvents({percentage:Math.round(e)},t),filtripixel_lastReportedScrollPercentage=e),filtripixel_lastScrollPosition=i}function filtripixel(){filtripixel_getParamsFromQueryString(),document.addEventListener("click",(function(i){i.preventDefault();let e=i.target;for(;e&&e!==document.body&&"A"!==e.nodeName;)e=e.parentNode;if(e&&"A"===e.nodeName){filtripixel_sendEvents(Array.from(e.attributes).reduce(((i,e)=>(i[e.name]=e.value,i)),{}),"click").then((()=>{window.location.href=e.href})).catch((()=>{window.location.href=e.href}))}})),window.addEventListener("scroll",filtripixel_handleScrollEvent)}document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",filtripixel_preventInteraction,!0);const i=document.getElementsByTagName("script");for(let e of i)if(e.src.includes("filtripixel.minify.js")){const i=new URL(e.src);if(filtripixel_pixelId=i.searchParams.get("pixelId"),filtripixel_pixelId){filtripixel();break}}}));